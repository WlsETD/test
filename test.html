<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商業導論考題練習系統 - 隨機循環</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        .quiz-container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        #question-text {
            font-size: 1.4em;
            color: #34495e;
            margin-bottom: 20px;
            min-height: 50px;
        }
        .options-container {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .option-item {
            background-color: #ecf0f1;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            font-size: 1.1em;
            color: #2c3e50;
        }
        .option-item:hover {
            background-color: #dbe4e7;
            transform: translateY(-2px);
        }
        .option-item.correct {
            background-color: #2ecc71; /* 綠色 */
            color: white;
            font-weight: bold;
        }
        .option-item.incorrect {
            background-color: #e74c3c; /* 紅色 */
            color: white;
            font-weight: bold;
        }
        #result-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            min-height: 20px;
        }
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        button {
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            border: none;
            border-radius: 6px;
            transition: background-color 0.2s;
        }
        #next-btn {
            background-color: #3498db;
            color: white;
        }
        #next-btn:hover {
            background-color: #2980b9;
        }
        #check-btn {
            background-color: #f39c12;
            color: white;
        }
        #check-btn:hover {
            background-color: #e67e22;
        }
        .disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <h1>商業導論考題練習</h1>
    <div id="status-display"></div>
    
    <div id="question-text">載入中...</div>

    <div class="options-container" id="options-container">
        </div>

    <div id="result-message">請選擇一個選項作答。</div>
    
    <div class="controls">
        <button id="check-btn" onclick="checkAnswer()">確認答案</button>
        <button id="next-btn" onclick="nextQuestion()">下一題</button>
    </div>
</div>

<script>
    // 題目資料 (包含選項和推測的正確答案)
    const quizData = [
        { q: "1. 康乃爾和心智圖筆記法的特點,何者正確?", options: ["(A)康乃爾適合發散性和聯想的內容", "(B)心智圖適合做不更動供記憶的內容", "(C)康乃爾一定是最好的筆記法", "(D)康乃爾以關鍵字和重點反思為主"], answer: "D" },
        { q: "2. 108課綱中的核心素養為何?", options: ["(A)自主學習", "(B)溝通互動", "(C)社會參與", "(D)以上皆是"], answer: "D" },
        { q: "3. 創新教學法的目標「不包含」何者?", options: ["(A)老師與學生的互動", "(B)學生真正從課程學習到的知識", "(C)與時俱進的課程內容", "(D)僅追求課程進度和分數"], answer: "D" },
        { q: "4. 下列何者可使用示範教學法傳遞知識?", options: ["(A)老師", "(B)學生", "(C)你", "(D)以上皆是"], answer: "D" },
        { q: "5. 鵬瑋曾為了統測做出什麼事?", options: ["(A)連續倒立24小時", "(B)用鼻子吃義大利麵", "(C)把馬路還給馬", "(D)剃平頭"], answer: "D" },
        { q: "6. 消費者行為學派理論基礎中哪一種文字圖像編排能使消費者有較高的印象?", options: ["(A)左圖右文", "(B)置中", "(C)上圖下文", "(D)上文下圖"], answer: "C" },
        { q: "7. 消費者行為學派主要用到的知識是什麼?", options: ["(A)統計學", "(B)數學", "(C)經濟學", "(D)心理學"], answer: "D" },
        { q: "8. 下面哪一種學派會做大數據分析?", options: ["(A)消費者行為學派", "(B)實體配送學派", "(C)行銷決策模式學派", "(D)行銷策略學派"], answer: "C" },
        { q: "9. 關於「實體配送通路學派」下列何者正確?", options: ["(A)強調品牌形象塑造與消費者心理影響", "(B)注重社群經營與創意內容行銷", "(C)以提升物流與配送效率為核心目標", "(D)專注於顧客關係的長期維護與溝通"], answer: "C" },
        { q: "10. 以下哪一組學科最能幫助培養一位「全方位的行銷戰將」?", options: ["(A)體育、地理、歷史、文學", "(B)數學、心理學、統計學、經濟學", "(C)化學、生物、物理、工程學", "(D)音樂、美術、舞蹈、設計學"], answer: "B" },
        { q: "11. 行銷3.0著重「一對一」的互動,而行銷4.0則進化為「」的連鎖互動。請問「」要填什麼?", options: ["A. 網對網", "B. 男對女", "C. 鬼對鬼", "D. 人對人"], answer: "D" },
        { q: "12. 在主動式行銷案例中,“7-11”的目標是什麼?", options: ["A. Change the way you shop", "B. Change the way you eat", "C. Change the way you pay", "D. Change the way you drink"], answer: "A" },
        { q: "13. 行銷1.0的核心觀念為何?", options: ["A. 老闆說什麼就是什麼", "B. 消費者導向", "C. 廣告越多越好賣", "D. 產品好看一定熱賣"], answer: "B" },
        { q: "14. 以下哪一個選項最能代表「關係行銷(Relationship Marketing)」的核心精神?", options: ["A.銷售是行銷的終點,目標在於快速完成交易。", "B. 以產品為中心,強調大量推廣與短期業績。", "C. 以顧客為中心,重視長期互動與信任關係。", "D. 假設顧客需求同質,主打單一訊息與標準化產品。"], answer: "C" },
        { q: "15. 「智慧化行銷」時代最大的特色是什麼?", options: ["A. 用AI幫老闆泡咖啡", "B. 用大數據與AI預測需求、精準決策", "C. 用傳統紙本問卷蒐集顧客意見", "D. 靠算命預測市場走向"], answer: "B" },
        { q: "16. 在SWOT分析中,'S'代表什麼?", options: ["A Strategy(策略)", "B. Strengths(優勢)", "C. Sales(銷售)", "D. System(系統)"], answer: "B" },
        { q: "17. STP行銷策略中的第一個S是指?", options: ["A. Target Market(目標市場)", "B. Test Marketing(測試行銷)", "C. Total Market(整體市場)", "D. Trade Marketing(貿易行銷)"], answer: "A" }, // 題目可能存在爭議 (STP 的 S 是 Segmentation, 選項 A 是 T)，但系統仍需給定答案。
        { q: "18. 4P行銷組合不包括以下哪一項?", options: ["A. Product(產品)", "B. Price(價格)", "C. Process(流程)", "D. Promotion(促銷)"], answer: "C" },
        { q: "19. 以下哪種通路類型最適合建立緊密的客戶關係?", options: ["A. 直銷", "B. 經銷商", "C. 電商平台", "D. 零售店"], answer: "A" },
        { q: "20. 數字廣告相比傳統廣告的最大優勢是?", options: ["A.成本更低", "B. 精準投放和數據追蹤", "C. 覆蓋面更廣", "D. 製作更簡單"], answer: "B" },
        { q: "21. 北商大學院包含哪個?", options: ["A:國際行銷", "B:管理學院", "C:財金學院", "D:以上皆是"], answer: "D" },
        { q: "22. 北商大主打的標語是?", options: ["A:引領商業哲學思維,創新商業科學方法", "B:引領商業科學思維,創新商業哲學方法", "C:推動商業哲學方法,革新商業科學思維", "D:深化商業科學方法,拓展商業哲學思維"], answer: "B" },
        { q: "23. Flipped Classroom 的主要特點是什麼?", options: ["A:學生的學習模式由「被動聽課」轉換為「主動學習與思考」", "B:老師課堂講解比以往更長,更細", "C:學生在課堂上主要進行考試", "D:學生僅依靠老師的指導完成學習"], answer: "A" },
        { q: "24. 北商大有幾大思維?", options: ["A:五大思維", "B:六大思維", "C:七大思維", "D:八大思維"], answer: "D" },
        { q: "25. 校長主打幾個學習方法?", options: ["A:三個學習方法", "B:四個學習方法", "C:五個學習方法", "D:六個學習方法"], answer: "B" }
    ];

    let shuffledQuiz = [];
    let currentQuestionIndex = 0;
    let isAnswered = false;

    // Fisher-Yates (Knuth) 洗牌演算法
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function initializeQuiz() {
        // 1. 打亂題目順序
        shuffledQuiz = shuffleArray([...quizData]);
        currentQuestionIndex = 0;
        isAnswered = false;
        
        // 2. 顯示第一道題目
        displayQuestion();
    }

    function displayQuestion() {
        if (shuffledQuiz.length === 0) return;

        const currentQuestion = shuffledQuiz[currentQuestionIndex];
        const optionsContainer = document.getElementById('options-container');
        const questionText = document.getElementById('question-text');
        const resultMessage = document.getElementById('result-message');
        const checkBtn = document.getElementById('check-btn');
        const nextBtn = document.getElementById('next-btn');
        
        // 重設狀態
        optionsContainer.innerHTML = '';
        questionText.textContent = currentQuestion.q;
        resultMessage.textContent = '請選擇一個選項作答。';
        resultMessage.style.backgroundColor = 'transparent';
        isAnswered = false;
        checkBtn.classList.remove('disabled');
        nextBtn.classList.add('disabled');


        // 渲染選項
        const optionLetters = ['A', 'B', 'C', 'D'];
        currentQuestion.options.forEach((optionText, index) => {
            const optionElement = document.createElement('div');
            // 將選項標籤 (A, B, C, D) 提取出來作為 data-answer
            const optionLetter = optionText.match(/([A-D])[\.\:]/i) ? optionText.match(/([A-D])[\.\:]/i)[1] : optionLetters[index];
            
            optionElement.className = 'option-item';
            optionElement.textContent = optionText;
            optionElement.dataset.answer = optionLetter;
            optionElement.onclick = function() { selectOption(this); };
            optionsContainer.appendChild(optionElement);
        });
        
        // 顯示當前進度
        document.getElementById('status-display').textContent = `題目進度: ${currentQuestionIndex + 1} / ${shuffledQuiz.length} (循環模式)`;
    }

    function selectOption(selectedElement) {
        if (isAnswered) return;

        // 清除所有選項的選中樣式
        document.querySelectorAll('.option-item').forEach(el => el.style.border = 'none');

        // 設置選中樣式
        selectedElement.style.border = '2px solid #3498db';
        selectedElement.dataset.selected = 'true';
    }

    function checkAnswer() {
        if (isAnswered) return;

        const selectedOption = document.querySelector('.option-item[data-selected="true"]');
        const resultMessage = document.getElementById('result-message');
        const currentQuestion = shuffledQuiz[currentQuestionIndex];
        const checkBtn = document.getElementById('check-btn');
        const nextBtn = document.getElementById('next-btn');
        
        if (!selectedOption) {
            alert('請先選擇一個選項！');
            return;
        }

        isAnswered = true;
        const selectedAnswer = selectedOption.dataset.answer;
        const correctAnswer = currentQuestion.answer.trim();

        checkBtn.classList.add('disabled');
        nextBtn.classList.remove('disabled');

        // 標記所有選項的顏色
        document.querySelectorAll('.option-item').forEach(el => {
            el.onclick = null; // 鎖定點擊
            el.style.border = 'none'; // 移除選中邊框
            if (el.dataset.answer === correctAnswer) {
                el.classList.add('correct');
            } else if (el.dataset.selected === 'true') {
                el.classList.add('incorrect');
            }
        });

        // 顯示結果
        if (selectedAnswer === correctAnswer) {
            resultMessage.textContent = '✅ 回答正確！';
            resultMessage.style.backgroundColor = '#d4edda';
            resultMessage.style.color = '#155724';
        } else {
            resultMessage.textContent = `❌ 回答錯誤！正確答案是 ${correctAnswer}`;
            resultMessage.style.backgroundColor = '#f8d7da';
            resultMessage.style.color = '#721c24';
        }
    }

    function nextQuestion() {
        if (!isAnswered) {
             alert('請先作答或點擊「確認答案」！');
             return;
        }

        // 循環到下一題
        currentQuestionIndex = (currentQuestionIndex + 1) % shuffledQuiz.length;
        
        // 如果循環完畢，可以重新打亂
        if (currentQuestionIndex === 0) {
            shuffledQuiz = shuffleArray(shuffledQuiz);
        }

        displayQuestion();
    }

    // 啟動測驗
    window.onload = initializeQuiz;
</script>

</body>
</html>